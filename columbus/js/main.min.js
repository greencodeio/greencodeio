"use strict";const slider=document.querySelector(".c-slider"),sliderTrack=slider.querySelector(".c-slider__track"),sliderItems=slider.querySelectorAll(".c-slider__item"),nextBtn=slider.querySelector(".c-slider__next-btn"),prevBtn=slider.querySelector(".c-slider__prev-btn");let slidesArr=[],currentItem=0,firstClick=0,clickStatus=0,slideWidth=sliderItems[0].clientWidth,transformStep=-slideWidth,transformCounter=100*sliderItems.length,slideTransform=0;sliderTrack.style.transform=`translateX(${transformStep}px)`,window.addEventListener("resize",(function(){trackWidth=sliderTrack.clientWidth,slideWidth=sliderItems[0].clientWidth})),sliderItems.forEach((e,t)=>{slidesArr.push({slide:e,position:t,transform:0})}),nextBtn.addEventListener("click",(function(){sliderTrack.style.transition="all ease 0.3s",transformStep-=slideWidth,sliderTrack.style.transform=`translateX(${transformStep}px)`,0===clickStatus&&(currentItem+1>=slidesArr.length?currentItem=0:currentItem++,clickStatus=1),0===firstClick&&(currentItem=0,firstClick=1),slidesArr[currentItem].transform+=transformCounter,sliderItems[currentItem].style.transform=`translateX(${slidesArr[currentItem].transform}%)`,currentItem+1>slidesArr.length-1?currentItem=0:currentItem++})),prevBtn.addEventListener("click",(function(){sliderTrack.style.transition="all ease 0.3s",transformStep+=slideWidth,sliderTrack.style.transform=`translateX(${transformStep}px)`,1===clickStatus&&(currentItem-1<0?currentItem=slidesArr.length-1:currentItem--,clickStatus=0),0===firstClick&&(currentItem=slidesArr.length-1,firstClick=1),slidesArr[currentItem].transform-=transformCounter,sliderItems[currentItem].style.transform=`translateX(${slidesArr[currentItem].transform}%)`,currentItem-1<0?currentItem=slidesArr.length-1:currentItem--}));let toggleBtn=document.querySelector(".js-toggleBtn"),nav=document.querySelector(".c-header__nav"),body=document.querySelector("body");toggleBtn.addEventListener("click",(function(){toggleBtn.classList.toggle("is-active"),nav.classList.toggle("is-opened"),body.classList.toggle("is-locked")}));let categoryBtn=document.querySelector(".c-slots__category-btn"),categoryList=document.querySelector(".c-slots__category-list");categoryBtn.addEventListener("click",(function(){categoryBtn.classList.toggle("is-active"),categoryList.classList.toggle("is-active")}));let dropToggle=document.querySelector(".c-nav__drop-toggle"),dropNav=document.querySelector(".c-nav__dropdown-list");dropToggle.addEventListener("click",(function(){dropNav.classList.toggle("is-active")}));const getJackpot=function(e,t,r){let n=document.querySelector(e).querySelector(t),i=n.querySelectorAll(r),s=[],l=[];i.forEach(e=>{s.unshift(e.innerText)});let c=parseInt(s.join(""));for(c+=Math.ceil(40*Math.random(0,1)),l=String(c).split("").reverse();n.firstChild;)n.removeChild(n.firstChild);l.forEach(e=>{let t=document.createElement("div");t.classList.add("c-jackpot__digit"),t.innerText=e,n.appendChild(t)})};function getTimeRemaining(e){let t=Date.parse(e)-Date.parse(new Date),r=Math.floor(t/1e3%60),n=Math.floor(t/1e3/60%60),i=Math.floor(t/36e5%24);return{total:t,days:Math.floor(t/864e5),hours:i,minutes:n,seconds:r}}function initializeClock(e){let t=document.querySelectorAll(".c-jackpot__timer-digit.minutes"),r=document.querySelectorAll(".c-jackpot__timer-digit.seconds");let n=setInterval((function(){let i=getTimeRemaining(e),s=[],l=[];if(i.total<=0){return clearInterval(n),document.querySelectorAll(".c-jackpot__timer-digit").forEach(e=>{e.innerText=0}),!0}function c(e,t){e.forEach((r,n)=>{r.innerText=t[n],1===t.length&&(e[0].innerText=0,e[n].innerText=t[0]),"undefined"===r.innerText&&(r.innerText=0)})}s=String(i.minutes).split(""),l=String(i.seconds).split(""),c(t,s),c(r,l)}),1e3)}setInterval(getJackpot,100,".hourly-drop",".c-jackpot__counter",".c-jackpot__digit"),setInterval(getJackpot,100,".daily-drop",".c-jackpot__counter",".c-jackpot__digit");let deadline=new Date(Date.parse(new Date)+12e5);initializeClock(deadline);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4ubWluLmpzIl0sIm5hbWVzIjpbInNsaWRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNsaWRlclRyYWNrIiwic2xpZGVySXRlbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmV4dEJ0biIsInByZXZCdG4iLCJzbGlkZXNBcnIiLCJjdXJyZW50SXRlbSIsImZpcnN0Q2xpY2siLCJjbGlja1N0YXR1cyIsInNsaWRlV2lkdGgiLCJjbGllbnRXaWR0aCIsInRyYW5zZm9ybVN0ZXAiLCJ0cmFuc2Zvcm1Db3VudGVyIiwibGVuZ3RoIiwic2xpZGVUcmFuc2Zvcm0iLCJzdHlsZSIsInRyYW5zZm9ybSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0cmFja1dpZHRoIiwiZm9yRWFjaCIsIml0ZW0iLCJpbmRleCIsInB1c2giLCJzbGlkZSIsInBvc2l0aW9uIiwidHJhbnNpdGlvbiIsInRvZ2dsZUJ0biIsIm5hdiIsImJvZHkiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJjYXRlZ29yeUJ0biIsImNhdGVnb3J5TGlzdCIsImRyb3BUb2dnbGUiLCJkcm9wTmF2IiwiZ2V0SmFja3BvdCIsImphY2twb3RWYWx1ZSIsImNvdW50ZXIiLCJkaWdpdCIsImphY2twb3RDb3VudGVyIiwiZGlnaXRzIiwiZGlnaXRzQXJyIiwibmV3RGlnaXRzIiwidW5zaGlmdCIsImlubmVyVGV4dCIsImRpZ2l0c1ZhbHVlIiwicGFyc2VJbnQiLCJqb2luIiwiTWF0aCIsImNlaWwiLCJyYW5kb20iLCJTdHJpbmciLCJzcGxpdCIsInJldmVyc2UiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJkaWdpdERpdiIsImNyZWF0ZUVsZW1lbnQiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImdldFRpbWVSZW1haW5pbmciLCJlbmR0aW1lIiwidCIsIkRhdGUiLCJwYXJzZSIsInNlY29uZHMiLCJmbG9vciIsIm1pbnV0ZXMiLCJob3VycyIsInRvdGFsIiwiZGF5cyIsImluaXRpYWxpemVDbG9jayIsIm1pbnV0ZXNDb250YWluZXIiLCJzZWNvbmRzQ29udGFpbmVyIiwidGltZWludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJtaW51dGVzQXJyIiwic2Vjb25kc0FyciIsImNsZWFySW50ZXJ2YWwiLCJwdXRWYWx1ZXMiLCJjb250YWluZXIiLCJ1bml0T2ZUaW1lIiwiZGVhZGxpbmUiXSwibWFwcGluZ3MiOiJBQUFBLGFBSUEsTUFBTUEsT0FBU0MsU0FBU0MsY0FBYyxhQUNoQ0MsWUFBY0gsT0FBT0UsY0FBYyxvQkFDbkNFLFlBQWNKLE9BQU9LLGlCQUFpQixtQkFDdENDLFFBQVVOLE9BQU9FLGNBQWMsdUJBQy9CSyxRQUFVUCxPQUFPRSxjQUFjLHVCQUNyQyxJQUFJTSxVQUFZLEdBQ1pDLFlBQWMsRUFDZEMsV0FBYSxFQUNiQyxZQUFjLEVBQ2RDLFdBQWFSLFlBQVksR0FBR1MsWUFDNUJDLGVBQWlCRixXQUNqQkcsaUJBQW1CLElBQU1YLFlBQVlZLE9BQ3JDQyxlQUFpQixFQUdyQmQsWUFBWWUsTUFBTUMsVUFBWSxjQUFjTCxtQkFFNUNNLE9BQU9DLGlCQUFpQixVQUFVLFdBQ2hDQyxXQUFhbkIsWUFBWVUsWUFDekJELFdBQWFSLFlBQVksR0FBR1MsZUFHOUJULFlBQVltQixRQUFRLENBQUNDLEVBQU1DLEtBQ3pCakIsVUFBVWtCLEtBQUssQ0FBRUMsTUFBT0gsRUFBTUksU0FBVUgsRUFBT04sVUFBVyxNQUc1RGIsUUFBUWUsaUJBQWlCLFNBQVMsV0FDaENsQixZQUFZZSxNQUFNVyxXQUFhLGdCQUMvQmYsZUFBaUJGLFdBQ2pCVCxZQUFZZSxNQUFNQyxVQUFZLGNBQWNMLG1CQUV4QixJQUFoQkgsY0FDR0YsWUFBYyxHQUFNRCxVQUFVUSxPQUNqQ1AsWUFBYyxFQUdkQSxjQUdGRSxZQUFjLEdBR0csSUFBZkQsYUFDRkQsWUFBYyxFQUdkQyxXQUFhLEdBRWZGLFVBQVVDLGFBQWFVLFdBQWFKLGlCQUNwQ1gsWUFBWUssYUFBYVMsTUFBTUMsVUFBWSxjQUFjWCxVQUFVQyxhQUFhVSxjQUUzRVYsWUFB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WSxLQUVaLEVBS1QsU0FBU21DLEVBQVVDLEVBQVdDLEdBQzVCRCxFQUFVN0QsUUFBUSxDQUFDQyxFQUFNQyxLQUN2QkQsRUFBS3dCLFVBQVlxQyxFQUFXNUQsR0FDRixJQUF0QjRELEVBQVdyRSxTQUNib0UsRUFBVSxHQUFHcEMsVUFBWSxFQUN6Qm9DLEVBQVUzRCxHQUFPdUIsVUFBWXFDLEVBQVcsSUFFbkIsY0FBbkI3RCxFQUFLd0IsWUFDUHhCLEVBQUt3QixVQUFZLEtBVnZCZ0MsRUFBYXpCLE9BQU9XLEVBQUVLLFNBQVNmLE1BQU0sSUFDckN5QixFQUFhMUIsT0FBT1csRUFBRUcsU0FBU2IsTUFBTSxJQWFyQzJCLEVBQVVQLEVBQWtCSSxHQUM1QkcsRUFBVU4sRUFBa0JJLEtBSWMsS0F4RDlDRixZQUFZeEMsV0FBWSxJQUFLLGVBQWdCLHNCQUF1QixxQkFDcEV3QyxZQUFZeEMsV0FBWSxJQUFLLGNBQWUsc0JBQXVCLHFCQTBEbkUsSUFBSStDLFNBQVcsSUFBSW5CLEtBQUtBLEtBQUtDLE1BQU0sSUFBSUQsTUFBVSxNQUNqRFEsZ0JBQWdCVyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbi8vc2xpZGVyXHJcblxyXG5jb25zdCBzbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYy1zbGlkZXInKTtcclxuY29uc3Qgc2xpZGVyVHJhY2sgPSBzbGlkZXIucXVlcnlTZWxlY3RvcignLmMtc2xpZGVyX190cmFjaycpO1xyXG5jb25zdCBzbGlkZXJJdGVtcyA9IHNsaWRlci5xdWVyeVNlbGVjdG9yQWxsKCcuYy1zbGlkZXJfX2l0ZW0nKTtcclxuY29uc3QgbmV4dEJ0biA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKCcuYy1zbGlkZXJfX25leHQtYnRuJyk7XHJcbmNvbnN0IHByZXZCdG4gPSBzbGlkZXIucXVlcnlTZWxlY3RvcignLmMtc2xpZGVyX19wcmV2LWJ0bicpO1xyXG5sZXQgc2xpZGVzQXJyID0gW107XHJcbmxldCBjdXJyZW50SXRlbSA9IDA7XHJcbmxldCBmaXJzdENsaWNrID0gMDtcclxubGV0IGNsaWNrU3RhdHVzID0gMDtcclxubGV0IHNsaWRlV2lkdGggPSBzbGlkZXJJdGVtc1swXS5jbGllbnRXaWR0aDtcclxubGV0IHRyYW5zZm9ybVN0ZXAgPSAtc2xpZGVXaWR0aDtcclxubGV0IHRyYW5zZm9ybUNvdW50ZXIgPSAxMDAgKiBzbGlkZXJJdGVtcy5sZW5ndGg7XHJcbmxldCBzbGlkZVRyYW5zZm9ybSA9IDA7XHJcblxyXG5cclxuc2xpZGVyVHJhY2suc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHt0cmFuc2Zvcm1TdGVwfXB4KWA7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xyXG4gIHRyYWNrV2lkdGggPSBzbGlkZXJUcmFjay5jbGllbnRXaWR0aDtcclxuICBzbGlkZVdpZHRoID0gc2xpZGVySXRlbXNbMF0uY2xpZW50V2lkdGg7XHJcbn0pO1xyXG5cclxuc2xpZGVySXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICBzbGlkZXNBcnIucHVzaCh7IHNsaWRlOiBpdGVtLCBwb3NpdGlvbjogaW5kZXgsIHRyYW5zZm9ybTogMCB9KVxyXG59KVxyXG5cclxubmV4dEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICBzbGlkZXJUcmFjay5zdHlsZS50cmFuc2l0aW9uID0gYGFsbCBlYXNlIDAuM3NgO1xyXG4gIHRyYW5zZm9ybVN0ZXAgLT0gc2xpZGVXaWR0aDtcclxuICBzbGlkZXJUcmFjay5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke3RyYW5zZm9ybVN0ZXB9cHgpYDtcclxuXHJcbiAgaWYgKGNsaWNrU3RhdHVzID09PSAwKSB7XHJcbiAgICBpZiAoKGN1cnJlbnRJdGVtICsgMSkgPj0gc2xpZGVzQXJyLmxlbmd0aCkge1xyXG4gICAgICBjdXJyZW50SXRlbSA9IDA7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3VycmVudEl0ZW0rKztcclxuICAgIH1cclxuXHJcbiAgICBjbGlja1N0YXR1cyA9IDE7XHJcbiAgfVxyXG5cclxuICBpZiAoZmlyc3RDbGljayA9PT0gMCkge1xyXG4gICAgY3VycmVudEl0ZW0gPSAwO1xyXG5cclxuXHJcbiAgICBmaXJzdENsaWNrID0gMTtcclxuICB9XHJcbiAgc2xpZGVzQXJyW2N1cnJlbnRJdGVtXS50cmFuc2Zvcm0gKz0gdHJhbnNmb3JtQ291bnRlcjtcclxuICBzbGlkZXJJdGVtc1tjdXJyZW50SXRlbV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHtzbGlkZXNBcnJbY3VycmVudEl0ZW1dLnRyYW5zZm9ybX0lKWBcclxuXHJcbiAgaWYgKChjdXJyZW50SXRlbSArIDEpID4gc2xpZGVzQXJyLmxlbmd0aCAtIDEpIHtcclxuICAgIGN1cnJlbnRJdGVtID0gMDtcclxuXHJcblxyXG4gIH0gZWxzZSB7XHJcbiAgICBjdXJyZW50SXRlbSsrO1xyXG4gIH1cclxuXHJcbn0pXHJcblxyXG5wcmV2QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gIHNsaWRlclRyYWNrLnN0eWxlLnRyYW5zaXRpb24gPSBgYWxsIGVhc2UgMC4zc2A7XHJcbiAgdHJhbnNmb3JtU3RlcCArPSBzbGlkZVdpZHRoO1xyXG4gIHNsaWRlclRyYWNrLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7dHJhbnNmb3JtU3RlcH1weClgO1xyXG5cclxuICBpZiAoY2xpY2tTdGF0dXMgPT09IDEpIHtcclxuICAgIGlmICgoY3VycmVudEl0ZW0gLSAxKSA8IDApIHtcclxuICAgICAgY3VycmVudEl0ZW0gPSBzbGlkZXNBcnIubGVuZ3RoIC0gMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN1cnJlbnRJdGVtLS07XHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tTdGF0dXMgPSAwO1xyXG4gIH1cclxuXHJcbiAgaWYgKGZpcnN0Q2xpY2sgPT09IDApIHtcclxuICAgIGN1cnJlbnRJdGVtID0gc2xpZGVzQXJyLmxlbmd0aCAtIDE7XHJcblxyXG4gICAgZmlyc3RDbGljayA9IDE7XHJcbiAgfVxyXG5cclxuICBzbGlkZXNBcnJbY3VycmVudEl0ZW1dLnRyYW5zZm9ybSAtPSB0cmFuc2Zvcm1Db3VudGVyO1xyXG4gIHNsaWRlckl0ZW1zW2N1cnJlbnRJdGVtXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke3NsaWRlc0FycltjdXJyZW50SXRlbV0udHJhbnNmb3JtfSUpYFxyXG5cclxuICBpZiAoKGN1cnJlbnRJdGVtIC0gMSkgPCAwKSB7XHJcbiAgICBjdXJyZW50SXRlbSA9IHNsaWRlc0Fyci5sZW5ndGggLSAxO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjdXJyZW50SXRlbS0tO1xyXG4gIH1cclxuXHJcbn0pXHJcblxyXG4vL21lbnUgXHJcbmxldCB0b2dnbGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtdG9nZ2xlQnRuJyk7XHJcbmxldCBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYy1oZWFkZXJfX25hdicpO1xyXG5sZXQgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcclxuXHJcbnRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICB0b2dnbGVCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XHJcbiAgbmF2LmNsYXNzTGlzdC50b2dnbGUoJ2lzLW9wZW5lZCcpO1xyXG4gIGJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtbG9ja2VkJyk7XHJcbn0pXHJcbi8vYnRuIGdhbWVzXHJcblxyXG5sZXQgY2F0ZWdvcnlCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYy1zbG90c19fY2F0ZWdvcnktYnRuJyk7XHJcbmxldCBjYXRlZ29yeUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYy1zbG90c19fY2F0ZWdvcnktbGlzdCcpO1xyXG5cclxuY2F0ZWdvcnlCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgY2F0ZWdvcnlCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XHJcbiAgY2F0ZWdvcnlMaXN0LmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xyXG59KVxyXG5cclxuLy9kcm9wbWVudVxyXG5cclxubGV0IGRyb3BUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYy1uYXZfX2Ryb3AtdG9nZ2xlJyk7XHJcbmxldCBkcm9wTmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmMtbmF2X19kcm9wZG93bi1saXN0Jyk7XHJcblxyXG5kcm9wVG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gIGRyb3BOYXYuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJylcclxufSlcclxuXHJcblxyXG4vL2NvdW50ZXJzIFxyXG5jb25zdCBnZXRKYWNrcG90ID0gZnVuY3Rpb24gKGphY2twb3RWYWx1ZSwgY291bnRlciwgZGlnaXQpIHtcclxuICBsZXQgdmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGphY2twb3RWYWx1ZSk7XHJcbiAgbGV0IGphY2twb3RDb3VudGVyID0gdmFsdWUucXVlcnlTZWxlY3Rvcihjb3VudGVyKTtcclxuICBsZXQgZGlnaXRzID0gamFja3BvdENvdW50ZXIucXVlcnlTZWxlY3RvckFsbChkaWdpdCk7XHJcbiAgbGV0IGRpZ2l0c0FyciA9IFtdO1xyXG4gIGxldCBuZXdEaWdpdHMgPSBbXTtcclxuXHJcblxyXG4gIGRpZ2l0cy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgZGlnaXRzQXJyLnVuc2hpZnQoaXRlbS5pbm5lclRleHQpO1xyXG4gIH0pXHJcbiAgbGV0IGRpZ2l0c1ZhbHVlID0gcGFyc2VJbnQoZGlnaXRzQXJyLmpvaW4oJycpKVxyXG4gIGRpZ2l0c1ZhbHVlICs9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgwLCAxKSAqIDQwKTtcclxuICBuZXdEaWdpdHMgPSBTdHJpbmcoZGlnaXRzVmFsdWUpLnNwbGl0KCcnKS5yZXZlcnNlKCk7XHJcblxyXG5cclxuXHJcbiAgd2hpbGUgKGphY2twb3RDb3VudGVyLmZpcnN0Q2hpbGQpIHtcclxuICAgIGphY2twb3RDb3VudGVyLnJlbW92ZUNoaWxkKGphY2twb3RDb3VudGVyLmZpcnN0Q2hpbGQpXHJcbiAgfVxyXG5cclxuICBuZXdEaWdpdHMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgIGxldCBkaWdpdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgZGlnaXREaXYuY2xhc3NMaXN0LmFkZCgnYy1qYWNrcG90X19kaWdpdCcpO1xyXG4gICAgZGlnaXREaXYuaW5uZXJUZXh0ID0gaXRlbTtcclxuICAgIGphY2twb3RDb3VudGVyLmFwcGVuZENoaWxkKGRpZ2l0RGl2KTtcclxuICB9KVxyXG5cclxufVxyXG5cclxuc2V0SW50ZXJ2YWwoZ2V0SmFja3BvdCwgMTAwLCAnLmhvdXJseS1kcm9wJywgJy5jLWphY2twb3RfX2NvdW50ZXInLCAnLmMtamFja3BvdF9fZGlnaXQnKTtcclxuc2V0SW50ZXJ2YWwoZ2V0SmFja3BvdCwgMTAwLCAnLmRhaWx5LWRyb3AnLCAnLmMtamFja3BvdF9fY291bnRlcicsICcuYy1qYWNrcG90X19kaWdpdCcpO1xyXG5cclxuLy90aW1lclxyXG5cclxuZnVuY3Rpb24gZ2V0VGltZVJlbWFpbmluZyhlbmR0aW1lKSB7XHJcbiAgbGV0IHQgPSBEYXRlLnBhcnNlKGVuZHRpbWUpIC0gRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKTtcclxuICBsZXQgc2Vjb25kcyA9IE1hdGguZmxvb3IoKHQgLyAxMDAwKSAlIDYwKTtcclxuICBsZXQgbWludXRlcyA9IE1hdGguZmxvb3IoKHQgLyAxMDAwIC8gNjApICUgNjApO1xyXG4gIGxldCBob3VycyA9IE1hdGguZmxvb3IoKHQgLyAoMTAwMCAqIDYwICogNjApKSAlIDI0KTtcclxuICBsZXQgZGF5cyA9IE1hdGguZmxvb3IodCAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7XHJcbiAgcmV0dXJuIHtcclxuICAgIHRvdGFsOiB0LFxyXG4gICAgZGF5czogZGF5cyxcclxuICAgIGhvdXJzOiBob3VycyxcclxuICAgIG1pbnV0ZXM6IG1pbnV0ZXMsXHJcbiAgICBzZWNvbmRzOiBzZWNvbmRzXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdGlhbGl6ZUNsb2NrKGVuZHRpbWUpIHtcclxuICBsZXQgbWludXRlc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jLWphY2twb3RfX3RpbWVyLWRpZ2l0Lm1pbnV0ZXMnKVxyXG4gIGxldCBzZWNvbmRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmMtamFja3BvdF9fdGltZXItZGlnaXQuc2Vjb25kcycpXHJcbiAgZnVuY3Rpb24gdXBkYXRlQ2xvY2soKSB7XHJcbiAgICBsZXQgdCA9IGdldFRpbWVSZW1haW5pbmcoZW5kdGltZSk7XHJcbiAgICBsZXQgbWludXRlc0FyciA9IFtdO1xyXG4gICAgbGV0IHNlY29uZHNBcnIgPSBbXTtcclxuXHJcbiAgICBpZiAodC50b3RhbCA8PSAwKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGltZWludGVydmFsKTtcclxuICAgICAgbGV0IHN0b3BlZFRpbWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmMtamFja3BvdF9fdGltZXItZGlnaXQnKTtcclxuICAgICAgc3RvcGVkVGltZXIuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICBpdGVtLmlubmVyVGV4dCA9IDBcclxuICAgICAgfSlcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgbWludXRlc0FyciA9IFN0cmluZyh0Lm1pbnV0ZXMpLnNwbGl0KCcnKVxyXG4gICAgc2Vjb25kc0FyciA9IFN0cmluZyh0LnNlY29uZHMpLnNwbGl0KCcnKVxyXG4gICAgZnVuY3Rpb24gcHV0VmFsdWVzKGNvbnRhaW5lciwgdW5pdE9mVGltZSkge1xyXG4gICAgICBjb250YWluZXIuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICBpdGVtLmlubmVyVGV4dCA9IHVuaXRPZlRpbWVbaW5kZXhdO1xyXG4gICAgICAgIGlmICh1bml0T2ZUaW1lLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgY29udGFpbmVyWzBdLmlubmVyVGV4dCA9IDA7XHJcbiAgICAgICAgICBjb250YWluZXJbaW5kZXhdLmlubmVyVGV4dCA9IHVuaXRPZlRpbWVbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpdGVtLmlubmVyVGV4dCA9PT0gYHVuZGVmaW5lZGApIHtcclxuICAgICAgICAgIGl0ZW0uaW5uZXJUZXh0ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBwdXRWYWx1ZXMobWludXRlc0NvbnRhaW5lciwgbWludXRlc0FycilcclxuICAgIHB1dFZhbHVlcyhzZWNvbmRzQ29udGFpbmVyLCBzZWNvbmRzQXJyKVxyXG4gIH1cclxuXHJcbiAgLy8gdXBkYXRlQ2xvY2soKTtcclxuICBsZXQgdGltZWludGVydmFsID0gc2V0SW50ZXJ2YWwodXBkYXRlQ2xvY2ssIDEwMDApO1xyXG59XHJcblxyXG5sZXQgZGVhZGxpbmUgPSBuZXcgRGF0ZShEYXRlLnBhcnNlKG5ldyBEYXRlKCkpICsgMTIwMCAqIDEwMDApO1xyXG5pbml0aWFsaXplQ2xvY2soZGVhZGxpbmUpOyJdfQ==
